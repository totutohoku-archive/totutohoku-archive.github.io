<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=x-sjis">
<META name="GENERATOR" content="IBM HomePage Builder 2001 V5.0.0 for Windows">
<TITLE>ツモツモ君♪</TITLE>
</HEAD>
<BODY background="1052.gif" alink="#ff7f00" bgcolor="#e0e0e0" link="#ff0000" text="#000000" vlink="#400080">
<P><B><FONT size="+3"><IMG src="tumotumo.gif" width="32" height="32" border="0">ツモツモ君♪</FONT><FONT size="+1">（東風荘・リーチ時自動和了・ツモ切りツール）</FONT><FONT size="+2">　</FONT><FONT size="+2" color="#0000FF">v3.7</FONT><FONT size="+2">　</FONT></B><B><FONT color="#000000"><A href="http://homepage2.nifty.com/BeniKujyaku/"><U><FONT color="#0000FF">紅孔雀さん</FONT></U></A></FONT>・とつげき東北共同開発</B><BR>
<BR>
<BR>
東風のプログラマ知り合いである、<FONT color="#000000"><B><A href="http://homepage2.nifty.com/BeniKujyaku/"><U><FONT color="#0000FF">紅孔雀さん</FONT></U></A></B></FONT>と共同開発した<B>フリーソフト（無料）</B>です。<BR>
各々の作業はちょうど半々くらいです。最初のうちはお互いが自発的に頑張ってましたが、後になるとコーディングの押し付け合いが目立ちました（謎）。<BR>
<BR>
<BR>
<BR>
<B><FONT size="+2"><IMG src="tumotumo.gif" width="32" height="32" border="0"></FONT><FONT size="+3">概要</FONT></B><BR>
<BR>
東風荘において、リーチをした時にこのソフトは動作します。<BR>
当たり牌が出た場合自動的にロン・ツモ（カン）をしてくれ、また当たり牌でない牌をツモった場合ツモ切りをしてくれるソフトです。<BR>
つまり、リーチした局については、ほっておけば自動的に打ってくれるわけです。<BR>
ついでに、起動している間は「F3 次へ進む」や「F4
終了」なども自動で押してくれますので、早い展開でゲームを進めることができます。<BR>
<BR>
ただし、基本的に厳密な<FONT color="#FF0000">フリテンチェックを行っていない</FONT>ため、フリテンリーチの場合はフリテンロン（チョンボ）してしまいます。フリテンでは「ロンは見逃し」を使います。<BR>
一応、<FONT color="#0000FF">ツモツモ君が動作中になった段階で、自分の捨て牌に当たり牌がある場合だけ、自動的に「ロン禁止」にチェックを入れてくれます</FONT>（v1.4以降）。<BR>
また、<FONT color="#FF0000">東風荘の画面の情報を読み取って動作するため、東風荘の画面が他のウインドウで隠れていたり、画面の端から切れ出ていたりすると正しく動作しません。</FONT><BR>
リーチをかけたからと安心して東風ウインドウを後ろに追いやってネットサーフィンなどをしていると、上がりを逃すことになるので注意してください！<BR>
また、仲間内で打つ場合、試合終了と同時に即卓を抜けると失礼な場合もあるので、そのような時は「試合後即抜けなし」にチェックを入れておきましょう。<BR>
試合終了後即抜け設定にして動作速度を上げておくと、伝説的な速度で即抜けできるので、「即抜けの龍」などと恐れられるかもしれません・・・。<BR>
<BR>
もちろん、<B>とつげき東北・紅孔雀さんとも、実際に超ランでツモツモ君を使って打っています</B>。他家で、使っている人も時々みかけます。<BR>
一度使い始めると、たいへん便利なので、もう二度と手放せませんよ（笑）。<BR>
基本的にツモツモ君は安全志向の仕様になっていますので、万一変な動作をしても、動作が停止するだけで、和了を逃すようなことはまずないと思います。<BR>
<BR>
<BR>
<BR>
<A href="/hp/dlcnt.cgi?count=cnttumotumo.bin&filename=tumotumo.lzh"><IMG src="tumotumo.gif" width="32" height="32" border="0"><FONT size="+3"><B><FONT color="#0000FF">ツモツモ君♪</FONT><FONT color="#FF0000" size="-1">v3.7</FONT><FONT color="#0000FF">ダウンロード</FONT></B></FONT></A>（DLLのバージョンアップに伴う安定性の向上）<BR>
<BR>
<BR>
<BR>
<B><FONT size="+2"><FONT size="+2"><IMG src="tumotumo.gif" width="32" height="32" border="0"></FONT><FONT size="+3">使い方</FONT><BR>
</FONT></B><BR>
<FONT color="#FF0000" size="+1">基本的には、起動しておくだけ</FONT>です。東風荘の起動前に起動しておいてもよいし、リーチをかけた後に起動してもかまいません。<BR>
実行のためには、<FONT color="#0000FF"><B>ツモツモ君と同じフォルダに、<U><A href="MJexeIODLLman.htm"><FONT color="#0000FF">とつげき東北作の東風荘画面入出力ライブラリ「MJexeIO.dll」</FONT></A></U>が存在しなければいけません。</B></FONT><BR>
v2.3以降では、MJexeIO.dllもセットでダウンロードされるため、特に意識する必要はありません。<FONT size="-1"><BR>
（なお、MJexeIO.dllを用いることで、ツモツモ君のような複雑な動作をするソフトを「簡単に？」作ることができます。サンプルコードも用意しています。プログラマの方はぜひ使ってみてください）</FONT><BR>
<BR>
<IMG src="tumotumo0.gif" width="128" height="175" border="0"><BR>
<BR>
起動すると、このような画面が出ます。<BR>
<FONT color="#0000FF"><B>自分が対戦時にリーチをかけている場合、自動的にツモ切り・和了をしてくれます。</B></FONT>それ以外には特に動作しません。<BR>
「一時停止」にチェックしている間は、自動和了・ツモ切り動作を停止します。<BR>
「ロンは見逃し」にチェックしている間は、ツモ和了動作とツモ切り動作だけを行います。フリテンリーチの時などに便利です。<BR>
「カン禁止」にチェックしている間は、カンできる場合でもカンしません。<BR>
「タスクトレイに格納」ボタンを押すと、ツモツモ君は現在の各種設定のまま、タスクトレイ上で動作します。<BR>
「Nextは押さない」にチェックしている間は、局終了時に自動的に「次へ進む」ボタンを押しません。<BR>
「試合後即抜けなし」にチェックしている間は、試合が終了しても、自動的に待合室に戻らないようになります。友達とワイワイやる場合などにはチェックします。<BR>
右下にある「前回-位」の部分には、ツモツモ君を使った状態で試合終了した（終了ボタンをツモツモ君が押した）最新の試合結果の順位が表示されます。<BR>
高速な即抜け設定にしていても、これを見れば順位がわかります（ただし読み取り失敗などの場合は「前回-位」の表記のままです）。<BR>
<BR>
<BR>
<IMG src="tumotumo2.gif" width="203" height="140" border="0"><BR>
<BR>
このように、タスクトレイに入っている状態では、右クリックで各種設定を行えます。<BR>
左クリックすると、通常どおりデスクトップ上に戻ります。またアイコンにマウスカーソルを置いてしばらくたつと、「前回-位」が表示されます。<BR>
<BR>
<BR>
<IMG src="tumotumo1.gif" width="131" height="191" border="0"><BR>
<BR>
こちらは実行時間間隔の微調整のためのウインドウです（v3.2以降）。<BR>
<BR>
・ツモ→ツモ切り<BR>
ツモってから次の動作をするまでの時間です。<BR>
この値を小さくすればするほど、「素早い和了/ツモ切り」動作をします。<BR>
ただし、動作速度が速すぎてカンしてくれない人は、ここの値を長く（大きく）すると良いでしょう。<BR>
<BR>
・動作中の卓画面監視<BR>
リーチしている時の、ツモツモ君の全体的な実行間隔を決めます。<BR>
小さければ小さいほど、素早く動作します。<BR>
環境やCPUによっては、ゆっくり動作させないと不安定になってしまう場合があり、そういう人はここの値を大きくしましょう。<BR>
<BR>
・準備中の卓画面監視<BR>
局が終了した場合や、リーチしていない場合などの、ツモツモ君の全体的な実行間隔を決めます。<BR>
即抜けを素早くしたい人は、この値を小さくします。<BR>
ちなみにここの値を最低値にすると、手動では不可能な、圧倒的な即抜け速度を体感できます。<BR>
<BR>
とつげき東北は、上から順に　0　50　50でプレイしていますが、何の問題もなく動作しており快適です。<BR>
ただし、CPUが古いなど、環境によっては速い動作が不可能な場合もあり、無理させるとフリーズ等の原因となる可能性もありますのでご注意ください。<BR>
<BR>
<BR>
<BR>
<B><FONT size="+2" color="#FF0000"><IMG src="tumotumo.gif" width="32" height="32" border="0"></FONT><FONT size="+3" color="#FF0000">重要</FONT></B><BR>
<BR>
厳密な<FONT color="#FF0000">フリテンチェックはしていません。</FONT>和了したくない場合は「ロンは見逃し」チェックしておくか、このソフトを終了してください。<BR>
一応、<FONT color="#0000FF">ツモツモ君が動作中になった段階で、自分の捨て牌に当たり牌がある場合だけ、自動的に「ロン禁止」にチェックを入れてくれます</FONT>（v1.4以降）。<BR>
このソフトは、東風荘の画面から情報を読み取りながら動作します。<BR>
したがって、<FONT color="#FF0000">東風荘の画面がウインドウなどで隠れてしまうと、動作しません！</FONT>　自動和了に任せて、ウインドウを広げてネットサーフィンなどはできません。<BR>
<BR>
リーチ後に牌をツモった時、ツモ和了できる場合ツモ和了します。ツモ和了できず、カンできる場合はカンします。ツモ和了できず、カンできない場合は、ツモった牌を切ります。<BR>
<FONT color="#FF0000">万一、ツモツモ君が怪しい動作をした（テンパイなのにもかかわらず、顔が青ざめてノーテンと判断されているなど）場合は、「一時停止」にチェックして、その局は手動で打った方が安全です</FONT>。<BR>
<BR>
<BR>
<BR>
<IMG src="tumotumo.gif" width="32" height="32" border="0"><B><FONT size="+3">要望と改善案</FONT></B><BR>
<BR>
<B>「変な動作しました」「ロン牌が出たのにロンしなかった」「フリテンロンしました」</B><BR>
リーチ後に東風のウインドウを動かしたり、他のウインドウを上にかぶせたりすると、手牌の読み込みに失敗したりして、誤作動する恐れがあります。<BR>
とつげき東北、紅孔雀さんともにツモツモ君は超ランで実際に使っていますが、のべ3000試合以上の間、普通に使っている限り誤作動したことはありません。<BR>
なるべく、ウインドウをいじったりしないでおとなしく使うようにしてください(笑)。<BR>
<BR>
<B>「チェック状態を記憶してほしい」</B><BR>
<S>善処します。</S>対処しました。<BR>
<BR>
<B>「ウィンドウの位置を記憶してほしい」</B><BR>
<S>善処します。</S>対処しました。<BR>
<BR>
<B>「タスクのポップアップで各種設定の変更をできるようにしてほしい」</B><BR>
<S>善処します。紅孔雀さんが。←</S>対処しました。<BR>
<BR>
<B>「局終了時にロン禁止を自動解除してほしい・・・ミスってハネマン逃した」</B><BR>
<S>考慮しておきます。</S>対処しました。<BR>
<BR>
<B>「フリテン時にラグがバレないように高速でロン解除してほしい」</B><BR>
かなり高速に解除ボタン連打してますが、東風の仕様上、「ばれる程度のラグがかかる」ことはやむをえません。対処できません。<BR>
<BR>
<B>「他のウインドウが重なったりしても正常に動作するようにしてほしい」</B><BR>
残念ながらWindowsの構造上、無理です。<BR>
重なっても大丈夫なように、東風のプログラムがWM_PAINTに対して専用の処理をしていれば別ですが、東風はそのような処理を行っていません。<BR>
したがって対処できません。<BR>
<BR>
<B>「ツモ禁止設定もほしい」</B><BR>
あまり使わない機能・そんなに便利でない機能のために、チェックボックスを増やしてゴチャゴチャとさせないようにしようと思います。<BR>
現段階ではこの機能の要望は少なく、導入する予定はありません。<BR>
<BR>
<B>「トイレ時自動ツモ切り機能がほしい」</B><BR>
リーチをかけた瞬間「Nextを押さない」にして素早くトイレにいきましょう（笑）。<BR>
リーチ時以外に動作させる予定は今のところありません。<BR>
<BR>
<B>「カンできるときに、毎回、カンするかどうか選択できるようにしてほしい」</B><BR>
リーチ後はほっておけば良いソフト、という方針なので、毎回カン選択させるのはどうかと思います（それならロンするかどうかも選択するようにしないと・・・あまりツモツモ君の意味ないですね）。<BR>
ついでに、高速ツモ切りをしているプレイヤーが急に遅くなったら、「カン選択があったのか・・・ピンフではないな」などと他家に無駄に情報を与えてしまいます（笑）。<BR>
そういう手の時は「一時停止」などを押しておいて、ツモツモ君を利用せずに手動でやるか、カンするしないを決めてしまってリーチしましょう。<BR>
<BR>
<B>「カンしないことがある、直してほしい」</B><BR>
v3.0を含む以前のバージョンでは、しばしば「カンされない」場合があったようです。<BR>
「カンボタンが出ているかどうか」の確認をしてから、「カンボタンが出ていないのでツモ切りしよう」と判断するまでの間に比較的長い時間（CPUから見ればですが）があり、不幸にもその間にカンボタンが表示されてしまうと、それが認識されずにツモ切りを行ってしまうことが原因でした。<BR>
v3.1では、「ツモ切り」の動作を行う直前に、「ボタンが出ていないか？」を、もう一度チェックするようにしました。そして「ボタンが出ていない」ことが明確にわかった場合にだけ、ツモ切り動作を行うようにしました。<BR>
これによって「カンし忘れ」の現象はかなり起こりにくくなります。ただし、原理的に解決したわけではありません。<BR>
「カンボタンが出ているかどうかの確認をする」ことと、「ツモ切りを行う」ことは時間的に必ず別物でして、この微妙な間にちょうどカンボタンが表示されるとどうしようもありません。<BR>
ツモった牌がカン可能な牌であるかどうかを、手牌から判断することも可能なのですが、ツモ牌判別をいちいちしていると動作が遅くなってしまいます。<BR>
チェックが厳しくなった分、「カンし忘れ」現象の発生確率は相当下がったと思いますので（CPUの実行タイミング的には1/100以下くらいには下がったと思います）、様子見します。<BR>
v3.1以降で「カンし忘れ」の報告があるようでしたら、対処します。<BR>
v3.2では、ツモった後にしばらく「カンボタンが出るかどうか」の待ち時間を設定できるようになりました。カンに誤動作がある場合は、ツモ→ツモ切りの時間間隔を多めにとってみてください。<BR>
<BR>
<B>「食い仕掛けのテンパイ時も動作してほしい」</B><BR>
もしこの機能がつくと、突然他家リーチが来て、降りよう（あるいは、リーチ牌をポンして出やすい待ちにしよう）という場合に操作を切り替えなければなりません。<BR>
さらに、食い仕掛けをしている他家が急に高速ツモ切りし始めたとき、テンパイがばれてしまいます。<BR>
それらの動作に関してチェックボックスを増やして行くのは、ツモツモ君の方向と違いますし、何のための「自動化ツール」かわかりません。<BR>
「自動化ツール」である以上、自動では対処しきれないような場合が数多く想定されるような部分へ機能拡張する予定はありません。<BR>
したがって、原則として「リーチ」の時だけに動作するようにしたいと考えています。<BR>
より多い機能を搭載したソフトにするなら、ツモツモ君とは別物として作ると思います。<BR>
ただし、「強制動作」のような形で、ユーザが明示的に指定している間だけはリーチしてようとしていまいと動作するようにすることは考えられます。<BR>
<BR>
<B>「チャ助くらい多機能にして欲しい」</B><BR>
ツモツモ君は、たくさんの機能を満載したツールにならないと思います（現段階での予定）。<BR>
なるべく、他のアプリとかぶらないような機能に絞ってバージョンアップします。<BR>
チャ助や、春風など、多機能東風支援ツールは充実している上、今さらおれが似たようなソフトを作っても、それらの機能よりはるかに良い性能にはならないでしょう。<BR>
それに、現段階でのそれらと同じ機能をつけるためにも時間がかかります。<BR>
あまり有益な作業とは思えず、素直にチャ助や春風を使う方が良いように思います。<BR>
他のアプリにない、斬新で便利な機能のアイデアが出たら、作るかもしれません（笑）。<BR>
<BR>
<B>ツモツモ君♪の方針：</B><BR>
<BR>
シンプルに：あまり使わない・そんなに便利ではない機能のために、チェックボックスをたくさんにしてゴチャゴチャさせたくありません。<BR>
使いやすく：操作ミスなどによって失敗しにくい仕様をめざします。<BR>
わかりやすく：「東風でのルーチンワークの自動化」を目的とします。手動での選択が必要になる可能性が高い場合に、ツモツモ君が動作しないようにします。<BR>
<BR>
回線落ち復帰後に、動作させたままにしていて、フリテンロンしてしまうといった問題があります。<BR>
ユーザが意識しなくても「危ないこと」はしないような安定性を目指してバージョンアップしていく予定です。<BR>
<BR>
<BR>
<BR>
<B><FONT size="+1"><FONT size="+2"><IMG src="tumotumo.gif" width="32" height="32" border="0"></FONT><FONT size="+3">利用規約</FONT><BR>
</FONT></B><BR>
必ず、<A href="license.htm"><B><FONT color="#FF0000" size="+1">利用規約</FONT></B></A>をお読みください。<BR>
また同時に、MJexeIO.dllの利用規約もお読みください。<BR>
両方の利用規約に同意した人だけがこのソフトを使用できます。ただし、共同開発者である<B><FONT color="#000000"><A href="http://homepage2.nifty.com/BeniKujyaku/"><U><FONT color="#0000FF">紅孔雀さん</FONT></U></A></FONT></B>も、とつげき東北と全く同等の権利を持ちます。<BR>
もしこのソフトの誤作動やバグ等によって、利用者が損害をこうむったとしても、とつげき東北ならびに共同開発者である<B>紅孔雀さん</B>はその責任を負いません。<BR>
<BR>
<BR>
<BR>
<B><FONT size="+1"><FONT size="+2"><IMG src="tumotumo.gif" width="32" height="32" border="0"></FONT><FONT size="+3">バージョン情報</FONT><BR>
</FONT></B><BR>
重要な不具合が確認されていて、使えないバージョンは赤字になっています。<BR>
<BR>
v1.0　初公開版。<BR>
v1.1　カンに対応版。<BR>
v1.2　カン禁止ボタン搭載。リーチ後アンカン時の動作確認済。<BR>
v1.3　タスクトレイに収納できるようにした。<BR>
v1.4　簡易フリテンチェックを導入。<BR>
v1.5　簡易フリテンチェックを第三（赤牌入り）に対応。<BR>
v1.6　観戦時は「動作中」にならないようにした。<BR>
v1.7　局終了時「Next」自動押し、試合終了時即抜け機能がついた。<BR>
v1.8　「Next」「終了」に対して、「一時停止」が優先されなかったので、優先されるようにした。<BR>
v1.9　局の切り替わりが早すぎた場合（回線が遅くて急に画面が切り替わるなど）に、次局の第一打でツモ切り動作することがある不具合を修正。<BR>
v2.0　起動時のデフォルトを「即抜けしない」に変更。動作時の「リーチしているかどうか」チェックを高速化して安定にした。<BR>
v2.1　安定性を向上。<BR>
v2.2　動作の状態をアイコンのアニメーションで表示するようにした。<BR>
v2.3　MJexeIO.dllをバンドルした。<BR>
v2.4　顔アニメの種類を増やした。<BR>
v2.5　ノーテンリーチ時、動作開始になるのが遅れていたのを修正。<BR>
<FONT color="#FF0000">v2.6</FONT>　不安定動作の改善。顔アニメの種類を増やした。アイコンのポップアップで各種チェックを可能にした。<BR>
<FONT color="#FF0000">v2.7</FONT>　チェック項目・ウインドウの位置が保存されるようになった。<BR>
v2.8　局終了時に「ロン禁止」「カン禁止」を自動的に解除するようにした。<BR>
v2.9　Nextボタンを押さないことがあったので対処。<BR>
v3.0　動作を安定させた。ロン・ツモ切り等の速度の高速化を行った。タスクトレイに格納された状態を保存するようにした。<BR>
v3.1　時々カンしない場合があったので対応した。<BR>
v3.2　安定性向上、ツモ切り動作のタイミングなどを可変とした。<BR>
v3.3　微調整と安定性の向上。<BR>
v3.4　誤作動によって観戦中に卓を抜けるバグに対処。<BR>
v3.5　試合後、試合結果の順位を表示するようにした。<BR>
v3.6　観戦中に、誤認によって待合に出てしまうバグを修正した。<BR>
v3.7　DLLのバージョンアップに伴う安定性の向上。<BR>
<BR>
<BR>
<B><FONT size="+1"><FONT size="+2"><IMG src="tumotumo.gif" width="32" height="32" border="0"></FONT><FONT size="+3">開発環境</FONT><BR>
</FONT></B><BR>
Borland　C++　Builder　Pro　5.0<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
</P>
</BODY>
</HTML>
