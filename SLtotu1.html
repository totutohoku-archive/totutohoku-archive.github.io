<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=x-sjis">
<META name="GENERATOR" content="IBM HomePage Builder 2001 V5.0.0 for Windows">
<TITLE>システマティック麻雀の公式集</TITLE>
</HEAD>
<BODY bgcolor="#000000" text="#000000" background="1052.gif">
<P><FONT color="#000000" size="+3"><B>システマティック麻雀の公式集</B>　　<BR>
<BR>
</FONT><BR>
<FONT color="#000000">主要な公式を取り上げて掲載する。<BR>
</FONT><FONT color="#000000">詳細については各論文を参照。</FONT><BR>
<BR>
<BR>
<FONT color="#000000" size="+2"><B>・ヨンマの安定Ｒと平均順位との関係</B></FONT><FONT color="#000000"><BR>
</FONT><FONT color="#000000"><BR>
ヨンマにおける１試合あたりのＲ変動の式は、
春麗さんの研究によると、以下のようです。<BR>
「<BR>
Ｒの変動＝試合数補正×（順位基準点＋補正値）<BR>
試合補正数：４００試合未満　１−試合数×0.002　　　４００試合以上　0.2<BR>
順位基準点：　１位　＋３０　２位　＋１０　３位　−１０　４位　−３０<BR>
補正値　　　：（他家の平均Ｒ−自分のＲ）÷６０<BR>
」<BR>
<BR>
これを利用して、 ある実力（あるＲの相手に対するある平均順位）が決定した時の、Ｒの到達点（安定Ｒと呼ぶ）と、順位との関係を導出します
。<BR>
<BR>
まずは１位と４位だけを取ると単純化して考え、その比率を　ｐ：１−ｐ　とおきます。<BR>
すると１試合あたりの順位基準点＝６０ｐ−３０になります。<BR>
ある平均順位を保った場合の安定Ｒを求めればよいので、試合数補正＝０として、Ｒ変動＝（６０ｐ−３０）＋補正値となります。<BR>
ここで、Ｒが安定するということは　Ｒ変動＝０　となることですから、補正値＝（他家の平均Ｒ−自分のＲ）÷６０　とから、<BR>
Ｒ変動＝６０ｐ−３０＋（他家平均Ｒ−自分のＲ）÷６０＝０　となる必要があります。<BR>
平均順位がＡのとき、Ａ＝（ｐ＋４（１−ｐ））÷（ｐ＋１−ｐ）ですので　ｐ＝（４−Ａ）÷３となります。これを先の方程式に代入して計算すると<BR>
</FONT><FONT color="#0000FF">ヨンマにおける、平均順位Ａと安定Ｒとの関係は<B> <BR>
</B></FONT><FONT color="#0000FF" size="+1"><B>安定Ｒ＝３０００−１２００Ａ＋他家平均Ｒ</B></FONT><FONT color="#000000"><BR>
と求められます。<BR>
なお、順位基準点と順位の関係は線形なので、「１位と４位の場合」以外でもこの式は成立します。<BR>
順位が0.1変化すると、ヨンマ安定Ｒは120変化します。<BR>
</FONT><FONT color="#000000"><BR>
</FONT><FONT color="#000000"><BR>
<BR>
</FONT><FONT color="#000000"><BR>
</FONT><FONT color="#000000" size="+2"><B>・サンマの安定Ｒと平均順位との関係</B><BR>
</FONT><FONT color="#000000"><BR>
白馬氏との共同研究によると、サンマにおいては、上に述べたＲ変動式は成立しませんでした（02/07/27）。<BR>
</FONT><FONT color="#000000"><BR>
基本的な変動式の形は同じだと仮定して、実際のＲ変動の動向を追ったところ、ヨンマでの<BR>
補正値　　　：（他家の平均Ｒ−自分のＲ）÷６０<BR>
部分を、サンマにおいて<BR>
補正値（サンマ）　： （他家の平均Ｒ−自分のＲ）÷９０<BR>
とすることによって、実際のＲ変動をかなり精確に表現できることがわかりました。<BR>
</FONT><FONT color="#000000"><BR>
そこでこの式から、ヨンマの場合と同様に、サンマでの平均順位と安定Ｒの関係を求めると、<BR>
</FONT><FONT color="#0000FF"><BR>
サンマにおける、平均順位Ａと安定Ｒとの関係は<B> <BR>
</B></FONT><FONT color="#0000FF" size="+1"><B>安定Ｒ(サンマ)＝３６００−１８００Ａ＋他家平均Ｒ</B> </FONT><FONT color="#000000"><BR>
となります。<BR>
順位が0.1変化すると、サンマ安定Ｒは180変化します。<BR>
</FONT><FONT color="#000000"><BR>
<BR>
<BR>
</FONT><BR>
<BR>
<FONT size="+2"><B><FONT color="#000000">・ある試合数の結果（平均順位）の、実力からの変動幅の標準偏差<BR>
</FONT></B></FONT><BR>
<FONT color="#000000"><FONT color="#000000"><B><FONT color="#000000"><FONT color="#000000">一般にｎ試合終了時平均順位の、「真の平均順位」からの変化分の標準偏差期待値?は<BR>
</FONT><FONT color="#0000ff" size="+1">σ＝ √｛α/ｎ｝</FONT> <BR>
ただしα＝</FONT><FONT color="#000000">ΣＰ（ｉ）（ｉ−Ｊ）^2</FONT><BR>
<FONT color="#000000">と表せる。<BR>
</FONT><FONT color="#000000">Ｐ（ｊ）：1試合あたりでｊ位になる確率、Ｊ：1試合あたりの平均順位、ｎ：試合数<BR>
</FONT><FONT color="#000000"><BR>
なお、安定Ｒの変化分で表示すると</FONT><BR>
<FONT color="#000000"><FONT color="#0000ff" size="+1">σ（Ｒ）　＝　1200　×　√｛α/ｎ｝</FONT></FONT><BR>
<FONT color="#000000"><FONT color="#000000">ただしＰ（ｊ）：1試合あたりでｊ位になる確率、Ｊ：1試合あたりの平均順位、ｎ：試合数</FONT></FONT></B></FONT></FONT><FONT color="#000000"><BR>
<BR>
<A href="HSB.html"><B><FONT color="#0000FF">（標準正規分布表）</FONT></B></A><BR>
<BR>
<BR>
<BR>
<BR>
<BR>
</FONT><FONT color="#000000" size="+3">・麻雀の和了放銃方程式</FONT><FONT color="#000000"><BR>
<BR>
基準の安定RをR0とすると、安定Ｒは次のように概算される。<BR>
</FONT><FONT color="#000000" size="+1"><B><FONT color="#0000FF" size="+1">Ｒ = 40ΔＡ - 25ΔＨ + 3Δt + 2Δg + R0</FONT></B> （東風戦・総レンチャン）<BR>
<B><FONT color="#0000FF" size="+1">Ｒ = 50ΔＡ - 31ΔＨ + 4Δt + 2.2Δg + R0</FONT></B> （東南戦・和了レンチャン）</FONT><FONT color="#000000"><BR>
R：安定R　ΔA：基準に対する和了率の増分　ΔH：基準に対する放銃率の増分　Δt：基準に対する流局時テンパイ率の増分　Δg：基準に対する和了時ツモ率の増分　R0：基準R<BR>
<BR>
流局時テンパイ率を10％高めることは、東風戦において安定R+30、東南戦において安定R+40に当たる成績の上昇をもたらす。<BR>
放銃率1％悪化させることは、同様に-25、-31に当たる成績の下降をもたらす。<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
</FONT><FONT color="#000000" size="+2"><B>・順位麻雀とトップ麻雀との実力の関係式</B></FONT><FONT color="#000000"><BR>
<BR>
<FONT color="#FF0000">ピンのワンスリー</FONT>だと、同様の式は<BR>
Ｇ’=　-Ｊ*20･･　+　0.2Ｔ　-5　-Ｊ*12.6（東風戦）<BR>
G’=　-Ｊ*20･･　+　0.2Ｔ　-5　-Ｊ*16.8（東南戦）<BR>
となるから<BR>
</FONT><FONT color="#000000" size="+1"><B><FONT color="#0000FF">Ｇ’=　-32.6Ｊ　+　0.2Ｔ　-5　（東風戦）</FONT></B></FONT><FONT color="#000000" size="+1"><B><FONT color="#0000FF"><BR>
</FONT></B></FONT><FONT color="#000000" size="+1"><B><FONT color="#0000FF">Ｇ’=　-36.8Ｊ　+　0.2Ｔ　-5　（東南戦）</FONT></B></FONT><FONT color="#000000"><BR>
である。<BR>
Ｇ’：1試合あたりの平均プラス　Ｊ：2.5からの平均順位の増分　Ｔ：トップ率（％）<BR>
<BR>
平均順位を0.1（安定Ｒを120）上げることは、東南戦の収入にして+3.68の価値があり、<FONT color="#0000FF">平均順位0.027とトップ率5％との重要度比が等しくなる</FONT>。<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
</FONT><FONT size="+1"><B><FONT color="#000000" size="+2">・「つかめば出る牌」が出る確率</FONT></B></FONT><FONT color="#000000"><BR>
<BR>
「つかめば出る」１枚残った牌について、残りツモｎ枚の時、それらが山に残ってしまう確率は<BR>
</FONT><FONT color="#0000FF" size="+1"><B>（１３／（１３＋ｎ））</B></FONT><FONT color="#000000"><BR>
である。<BR>
なぜなら、「つかめば出る」のであるから他家が持っている可能性は考慮しなくて良いからである。<BR>
例えば、地獄待ちチートイ西待ちで</FONT><FONT color="#0000FF">「つかめば出る」とすれば、残りツモ牌２０枚なら６０％、残りツモ１０枚なら４５％程度の確率で出る</FONT><FONT color="#000000">。<BR>
<BR>
<BR>
<BR>
<BR>
</FONT><FONT color="#000000"><BR>
</FONT><FONT color="#000000" size="+2"><B>・平均順位・Ｒの初期値・最終値と、他家Ｒとの関係（概算・ヨンマ・400試合以上キャラ用）</B><BR>
</FONT><FONT color="#000000"><BR>
１試合あたりのＲの変動は400試合以上で<BR>
変動Ｒ＝0.2×(順位点＋(他家平均Ｒ−自分のＲ)÷60)　　　　順位点＝１位30　２位10　３位−10　４位−30<BR>
と表されることが知られています。<BR>
ｎが充分に大きいとき、この平均をとると<BR>
１試合あたりのＲ変動　〜　0.2×平均順位点　＋　他家平均Ｒ÷300　−　自分の平均Ｒ÷300<BR>
と書け（概算ですが）、平均順位点は、平均順位　ｔ　のとき　20（２．５−ｔ）　と書けることから、他家平均Ｒは<BR>
他家平均Ｒ　〜　-20（２．５−ｔ）×60　＋　（最終Ｒ−初期Ｒ）÷ｎ×300　＋　（最終Ｒ＋初期Ｒ）÷２<BR>
と書けることになります。<BR>
</FONT><FONT color="#000000"><BR>
４００試合以上のキャラで　ｎ　試合打ったとき、平均順位　ｔ　なら、他家平均Ｒは<BR>
<STRONG><B>他家平均Ｒ　＝　-20（２．５−ｔ）×60　＋　（最終Ｒ−初期Ｒ）÷ｎ×300　＋　（最終Ｒ＋初期Ｒ）÷2</B></STRONG> <STRONG><BR>
</STRONG>で表されます。<BR>
</FONT><FONT color="#000000"><BR>
</FONT><FONT color="#000000"><BR>
<BR>
<BR>
</FONT><FONT color="#000000"><BR>
</FONT><FONT color="#000000" size="+2"><B>・成績と、到達するＲとの関係（ヨンマ・400試合以上キャラ用）</B></FONT><FONT color="#000000"><BR>
</FONT><FONT color="#000000"><BR>
変動式から、成績と到達Ｒとの関係を調べてみます。<BR>
ある成績（安定Ｒ）を取りつづけてｎ試合したとき、最終的に到達するＲを求めます。<BR>
s試合目のRをR（s）と書くとき、Ｒ（s+1）は、<BR>
Ｒ（ｓ+1）＝安定Ｒ/300　＋　299Ｒ（ｓ）/300<BR>
安定Ｒ-Ｒ（s+1）＝299/300｛　安定R　-　R(s)　｝<BR>
とかけます。<BR>
これを、安定Ｒ-Ｒ（ｓ）の等比数列と考えて、<BR>
安定Ｒ-Ｒ（ｓ）＝（299/300）^s　（安定Ｒ-初期Ｒ）<BR>
とできます。<BR>
</FONT><FONT color="#000000"><CODE><BR>
従って、400試合以上のIDで、ある安定Ｒでn試合打った時の最終到達Ｒは、<B><BR>
</B></CODE></FONT><FONT color="#0000FF" size="+1"><CODE><B>最終到達Ｒ　＝　安定Ｒ　−｛(299/300)^n×（安定Ｒ−初期Ｒ）｝</B></CODE></FONT><FONT color="#000000"><CODE><B><BR>
</B></CODE>です。<BR>
</FONT><FONT color="#000000"><BR>
また、順位表記にすると、<BR>
</FONT><FONT color="#0000FF" size="+1"><B>最終到達Ｒ　＝　3000-1200（順位）+他家Ｒ　</B></FONT><FONT color="#0000FF" size="+1"><CODE><B>−｛(299/300)^n×（安定Ｒ−初期Ｒ）｝</B></CODE></FONT><FONT color="#000000"><BR>
です。<BR>
</FONT><FONT color="#000000"><BR>
</FONT><BR>
<BR>
<BR>
<FONT color="#000000"><BR>
</FONT><FONT color="#000000" size="+2">・<B>目標のＲに到達する試合数の導出（ヨンマ・400試合以上キャラ用）</B><BR>
</FONT><FONT color="#000000"><BR>
少し変形して、目標のＲに到達するために必要な試合数を求める式を導出しておきます。<BR>
</FONT><FONT color="#000000"><BR>
目標Ｒに到達するために必要な試合数は、<B> <BR>
</B></FONT><FONT color="#0000FF" size="+1"><B>n　＝　log (299/300) ｛　（安定Ｒ−目標Ｒ）　÷　（安定Ｒ−初期Ｒ）　｝</B></FONT><FONT color="#000000"><B><BR>
</B>と表されます。<BR>
どっかで見たことあるなあと思ったら、この式はさっぱり氏の研究にあったような気がします。<BR>
（今は麻雀のコンテンツがなくなってる？　でもさっぱり氏の式はもう少しキレイだったように覚えてます）<BR>
車輪の再発明でした( ´Д`)<BR>
</FONT><FONT color="#000000"><BR>
</FONT><FONT color="#000000"><BR>
<BR>
</FONT><FONT color="#000000"><BR>
<BR>
<BR>
<BR>
</FONT><BR>
<BR>
<FONT color="#000000"><BR>
<BR>
<BR>
<BR>
<BR>
<BR>
</FONT><FONT color="#000000"><BR>
</FONT><BR>
<BR>
</P>
</BODY>
</HTML>
