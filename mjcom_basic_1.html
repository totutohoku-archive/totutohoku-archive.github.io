<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<meta charset="UTF-8">
<META name="GENERATOR" content="IBM HomePage Builder 2001 V5.0.0 for Windows">
<TITLE>システマティック麻雀工学：応用麻雀数理学</TITLE>
</HEAD>
<BODY background="1052.gif" bgcolor="#e0e0e0" text="#000000" vlink="#400080" alink="#ff7f00" link="#ff0000">
<P>システマティック麻雀工学［応用麻雀数理学］：<BR>
<B><FONT size="+3">和了ルーチンの構築（1）</FONT></B><BR>
<BR>
<BR>
<B><FONT size="+1">概論：</FONT></B><BR>
<BR>
和了を目指すルーチンは、システマティック麻雀の中心的な問題である。<BR>
テンパイを目指すためには、現在の点数状況から「どんな手を目指すか」、現在見えている牌や他家の持っている（と思われる）牌の枚数に応じて「どれを切れば目標のテンパイに近づくか」、など、さまざまな基礎的研究を土台にした研究が必要となる。<BR>
しかも、和了率というのは麻雀の成績にとって一番シビアな指標であり、この技術を理論的に完成させることは、最強の麻雀理論にとってもやはり、一番大切な命題なのだ。<BR>
幸い、過去の我々の研究によって、山牌の推測や他家の手牌の推測については一応高水準の指針があり、また点数状況判断についてはほぼ理論的にその解を求めることが可能となっている。<BR>
<BR>
一般人のイメージだと「牌効率」はもっとも単純な基礎要素で、「状況判断」や「読むこと」が難しく奥の深い技術であるように感じられていることが多いが、実態は全く逆であり、「牌効率」の問題こそが一番理論的に解決することが難しい問題といっても良いのである。<BR>
単にイーシャンテンでどれを切るべきかという問題に限ってみても、あと何順以内に和了するべきか（他家の挙動によって、自分が和了できる順目による「価値」が全く異なってくる）とか、チーやポンをどのように評価できるかなど、理論的に解こうとすると深刻にあらゆる情報を読まなければならない。<BR>
そればかりか組み合わせ数も莫大で、簡単にシミュレーションでポンと終わらせられる作業でもない。<BR>
<BR>
我々は、「牌効率」の問題は、実際に東風荘最強水準のとつげき東北でさえ「ほぼ機械的に」打てているという事実に希望を見出すことができる。<BR>
つまり、あまりにも細かな様々な要因など「完全に無視して適当なパラメータで置き換えて」、割と「単純計算」に近い作業で、とつげき東北と同じような牌効率を求めることが期待できるのだ。<BR>
ここで行うべきことは、「一番単純な計算」に、いかに有力なパラメータを付け加えていくかというモデル設計である。<BR>
チートイを作る技術を抜群に上手にすることではなく、うまくリャンメンテンパイに持ち込んで先制リーチをかけることを、我々は目的として良いのである。<BR>
<BR>
「応用麻雀数理学」と銘打ってシステマティック麻雀工学と分化したのは、システマティック麻雀工学が比較的「極力仮定パラメータをおかない理論計算」のみに頼ったものであるのに対して、ここではとつげき東北の実際の打ち方や経験などから、いくつもの仮定パラメータを置きながら、しかもそれを理論に含ませる形で研究を進めていく必要があったからである。<BR>
対象が複雑であればあるほど、様々な細かい仮定が必要となってくるのだ。<BR>
<BR>
<BR>
<BR>
<B><FONT size="+1">一人麻雀：</FONT></B><BR>
<BR>
あら氏の研究した「一人麻雀」のような方法論が、麻雀の基本的な和了ルーチンとして前提とされているものとする（comjong.com、旧麻雀解析での研究も同様）。<BR>
<BR>
一人麻雀とは、ランダムなハイパイに対して、ランダムなツモを行い、それを20順目まで繰り返す作業である。<BR>
ロンや他家の挙動は関与せず、純粋に「20順までにツモ和了できる確率と、その時の得点」がわかるような理想的な擬似麻雀である。<BR>
これについては先人の優れた研究によって、かなり良いものができている。完璧ではないが、実用上充分と思われるようなレベルには達している。<BR>
そこで、18～20順までのツモ和了だけを考慮した「ツモ和了点期待値」は、一応理論的に求められるような方法論があるものとする。<BR>
<BR>
<BR>
<BR>
<B><FONT size="+1">理論化の準備：</FONT></B><BR>
<BR>
その上でまずは、「強い自動打ちツールを作成する」という目的のために、一人麻雀の方法論に、補正として導入しなければならないいくつかのパラメータを列挙してみる。<BR>
<BR>
・ある牌が場に出される確率。<BR>
・ツモる確率と、他家が出す確率（ロンや、ポンチー）との定量的関係。<BR>
・今後数順の間に他家がテンパイする確率や、和了する確率。<BR>
・流局時の収支、リーチによる和了率の低下補正等。<BR>
・得点期待値と順位期待値との関係。<BR>
<BR>
当然、さらに完全な理論化のためには他にも様々なパラメータが必要だろうが、「成績向上にとって重要」と思われるものを取り上げた。<BR>
<BR>
<BR>
<BR>
<B><FONT size="+1">各種パラメータの導入の根拠と方針：</FONT></B><BR>
<BR>
・ある牌が場に出される確率。<BR>
単に「残り4枚」などの方法よりも優れた計算方法を用いた方が良いのは当然である。<BR>
この研究は「山牌の研究」においてシステマティック麻雀工学でおおむね解決されているので、とりあえずは問題はない（精緻化の工夫余地はある）。<BR>
<BR>
・ツモる確率と、他家が出す確率との定量的関係。<BR>
例えば4455というシャンポン待ちと、11南南というシャンポン待ちでは、実戦であれば、和了率にして35％か60％かというような大きな差となる。<BR>
また、ポンやチーを選択に含める場合も同様で、食い仕掛けをする場合とメンゼンで進める場合に、トイツや端牌をどう持つかというのは経験上、非常に大きく変わってくるはずだ。<BR>
これらを「一人麻雀」への補正パラメータとして導入することができなければ、強い和了ルーチンは作ることができない。<BR>
（スーアンコやメンホンはめったにできないが、トイトイやホンイツは比較的容易にできることを考えれば、このパラメータをうまく理論に組み込むことがいかに重要かが理解できる）<BR>
特に後に述べる、「他家の和了」をも考慮に入れると、2倍～4倍程度の期待値の違いが逆転してしまうことがたびたび起きてしまうと考えられる。<BR>
単純に、チーは2倍、ポンは4倍程度「来る」確率が高いとして良いと思うが、それをいかに理論計算に導入するかが難しい。<BR>
特に、現在メンゼンだが途中からは食い仕掛けも考慮しようと判断させる場合などもあり、そのあたりの「判断」は大変困難になると予想される。<BR>
<BR>
・今後数順の間に他家がテンパイする確率や、和了する確率。<BR>
麻雀では、他家が和了する確率は7順目程度までは非常に低いが、そこから先は順目が遅れれば遅れるほど急速に増大し、15順目程度までに多くの場合決着がつく。<BR>
後の順目になればなるほど、放銃の危険性の増大に関しても考慮せねばならなくなってくる。<BR>
単純に言って、他家が1人テンパイしただけで、和了率は半分近くまで低下する上、自分が放銃する危険性も生じてくるのである。<BR>
これでは、「あと3順で1000点上がれます」というのと「あと9順で3000点上がれます」というので、後者の方を必ずしも優先するだけでは上手な打ち方ができない。<BR>
それは順目にもよるし、他家の食い仕掛けのあるなしによってもかなり大きく変化してくる判断だろう。<BR>
パラメータを決定することは難しくない。<BR>
他家の待ち形の分布などは統計データから随時計算できるし、各局のメンゼン者・食い仕掛け者の和了順目などを調べればよい。<BR>
あとはいかに、これらのデータを理論に組み込むかの問題である。<BR>
<BR>
・流局時の収支、リーチによる和了率の低下補正等。<BR>
説明するまでもないが、マンガン手をリーチにするかダマにするか、などの判断を行う必要は出てくる。<BR>
これは理論に組み込むことは難しくない。<BR>
<BR>
・得点期待値と順位期待値との関係。<BR>
得点期待値による判断ではなく、順位期待値や、目的によっては総得点期待値による判断を導入することが望ましい。<BR>
なおこの研究はとつげき東北によって既に理論化されているため、とりあえず問題はない。<BR>
得点期待値の計算のかわりに、次の局の得点による順位期待値を導入するだけである。<BR>
<BR>
<BR>
<BR>
<B><FONT size="+1">他家が和了することによるパラメータの変化：</FONT></B><BR>
<BR>
まず、「一人麻雀」における期待値計算に、「他家が和了すること」のパラメータを導入する方法を考える。<BR>
<BR>
一人麻雀における点数期待値の計算は、以下のような計算になっている。<BR>
Σ（i＝1～最後の順目-現在の順目）　ｉ順後に和了できる確率×その時の点数<BR>
これに、他家がテンパイする確率や、他家が和了する確率のパラメータを導入する。<BR>
<BR><BR><BR><BR>
<BR>
まずは一番簡単に、自分だけがテンパイしている場合の、自分の和了率について考えよう。<BR>
「ランダム牌」とは、基本的に山に残っている牌の確率分布通りに選ばれる牌のことを指す。<BR>
自分がランダム牌を1枚ツモった時に自分が和了できる確率をｐとする。<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
自分と他家1人だけがテンパイしているときの、和了率・放銃率について考える。<BR><BR>
自分がランダム牌1枚で和了できる確率をｐと書く。<BR>
他家のうち一人がランダム牌1枚で和了できる確率をｑと書く。<BR>
<BR><BR>
<BR>
<BR>
<BR>
<BR>
<BR>
順目ｋに他家ｎが和了する確率をＰ（ｎ，ｋ）と書く。<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
</P>
</BODY>
</HTML>
