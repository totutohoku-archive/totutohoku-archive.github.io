<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=x-sjis">
<META name="GENERATOR" content="IBM HomePage Builder 2001 V5.0.0 for Windows">
<title>システマティック麻雀工学</title>
</head>

<BODY background="1052.gif">
<P>システマティック麻雀工学：<FONT size="+3"><B><BR>
牌がメンツ化する確率の近似計算式</B></FONT><BR>
<BR>
<BR>
<B><FONT size="+1">ある１順である牌をツモる確率：</FONT></B><BR>
<BR>
その時自分から見えていない牌Ａ枚、求める牌の残り枚数Ｂ枚として、<B>B/A</B>。<BR>
もちろん、他家の持つ牌を高精度に予測できる場合（つまり人間などではなくコンピュータの場合）などには、そのことを考慮させるとより良い。<BR><BR>
<BR>
<B><FONT size="+1">１順あたりのツモ率pの牌をN順以内にツモる確率：</FONT></B><BR>
<BR>
ある特定の牌を次の順目にツモる確率をpとする。<BR>
これをある順目に初めてツモる確率は<BR>
1順後　p<BR>
2順後　（1-p）×p<BR>
3順後　（1-ｐ）^2×p<BR>
・・・<BR>
N順後　（1-p）^N×p<BR>
である。<BR>
<BR>
通常pは５％以下程度の値であるから、２次以上の項を無視して、N順後に初めてツモる確率をpと近似する。<BR>
<B>N順以内にこの牌を少なくとも1つツモる確率はNp</B>で表せる。<BR>
ただし、３面待ちなどの場合には3p程度の確率を考えることになり、この場合確率が「1より充分小さい」とは言いがたく、２次以上の項の影響は無視しにくくなるので注意が必要である。<BR>
またp自体は順目ごとに通常変化するから、「ある順目から見たときの」、「ある順目までのツモ確率」の計算に用いるべきである。<BR><BR>
<BR>
<B><FONT size="+1">１順あたりのツモ率pの牌とツモ率qの牌の両方をN順以内にツモる確率：</FONT></B><BR><BR>
記述の省略として、確率ｘでツモる牌のことを単にｘと呼ぶ。<BR>
p、qは各々独立とする（実用上は少々のかぶり、例えば147受けと67受けなどであっても問題ない）。<BR>
<BR>
ちょうどn順目にpまたはqをツモる確率は（p+q）。<BR>
ゆえに、ちょうどn順にどちらか片方をツモった上で、N順までの間に両方ツモる確率は<BR>
（p+q）×（p/p+q）・（N-n）q+（q/p+q）・（N-n）p＝2pq（N-n）<BR>
と書ける。<BR>
n＝1〜Nに渡ってこの和をとると、求める確率は<BR>
<B>pq（N^2-N）</B><BR>
と表せる。<BR>
<BR>
<BR>
<B><FONT size="+1">N順以内に、１順あたりのツモ率pの牌をツモった後にツモ率qの牌をツモる確率：</FONT></B><BR>
<BR>
記述の省略として、確率ｘでツモる牌のことを単にｘと呼ぶ。<BR>
<BR>
ちょうどn順目にpをツモる確率はp。<BR>
ゆえに、ちょうどn順にpをツモった上で、N順までの間にqをツモる確率は<BR>
pq（N-n）<BR>
と書ける。<BR>
求める確率は<BR>
<B>pq（N^2-N）/2</B><BR>
と表せる。<BR>
<BR>
<BR>
<B><FONT size="+1">各近似式の検査データ：</FONT></B><BR>
<BR>
上記近似がうまく機能しているかを知るために、コンピュータシミュレーションを行った。以下にデータを示す。<BR>
<BR>
<B>１）ある牌をツモる確率の近似</B><BR>
ハイパイに１枚もない牌が、17回ツモるまでに来る確率<BR>
理論値：56.198％<BR>
実測値：46.2％<BR>
<BR>
ハイパイに１枚もない牌が、10回ツモるまでに来る確率<BR>
理論値：33.06％<BR>
実測値：29.01％<BR>
<BR>
１マンがハイパイに１枚だけある場合に、17回のツモまでにこれをトイツ化する確率。<BR>
理論値：42.15％<BR>
実測値：35.7％<BR><BR>
１マンがハイパイに１枚だけある場合に、10回のツモまでにこれをトイツ化する確率。<BR>
理論値：24.79％<BR>
実測値：22.07％<BR>
<BR>
１マンがハイパイに2枚ある場合に、17回のツモまでにこれをアンコ化する確率。<BR>
理論値：28.1％<BR>
実測値：27.23％<BR>
<BR>
<B>２）ある牌とある牌をツモる確率の近似</B><BR>
ハイパイで孤立牌であった１マンが、17順のうちに、元々1枚も見えていない23マンをツモってメンツ化する確率は<BR>
理論値：29.62％<BR>
実測値：19.60％<BR><BR>
ハイパイで孤立牌であった１マンが、10順のうちに、元々1枚も見えていない23マンをツモってメンツ化する確率は<BR>
理論値：9.5％<BR>
実測値：8.00％<BR>
<BR>
ハイパイで孤立牌であった１マンが、5順のうちに、元々1枚も見えていない23マンをツモってメンツ化する確率は<BR>
理論値：2.178％<BR>
実測値：2.152％<BR><BR>
ハイパイで孤立牌であった１マンが、3順のうちに、元々1枚も見えていない23マンをツモってメンツ化する確率は<BR>
理論値：0.6534％<BR>
実測値：0.5375％<BR><BR>
ハイパイで元々0枚見えの2マンと2枚見えの3マンがあるとき、17順のうちに23マンを両方ツモる確率は<BR>
理論値：14.86％<BR>
実測値：13.87％<BR>
<BR>
ハイパイで元々0枚見えの2マンと2枚見えの3マンがあるとき、10順のうちに23マンを両方ツモる確率は<BR>
理論値：4.91％<BR>
実測値：4.53％<BR>
<BR>
ハイパイで元々0枚見えの2マンと2枚見えの3マンがあるとき、5順のうちに23マンを両方ツモる確率は<BR>
理論値：1.091％<BR>
実測値：1.179％<BR><BR>
ハイパイで元々0枚見えの2マンと2枚見えの3マンがあるとき、3順のうちに23マンを両方ツモる確率は<BR>
理論値：0.3273％<BR>
実測値：0.3000％<BR><BR>
<B>３）ある牌をツモった後にある牌をツモる確率の近似</B><BR><BR>
ハイパイに１枚もない１マンが、17回のツモまでにトイツ化する確率。<BR>
理論値：11.13％<BR>
実測値：9.181％<BR>
<BR>
ハイパイに１枚もない１マンが、10回のツモまでにトイツ化する確率。<BR>
理論値：3.681％<BR>
実測値：3.233％<BR>
<BR>
ハイパイに１枚もない１マンが、5回のツモまでにトイツ化する確率。<BR>
理論値：0.818％<BR>
実測値：0.787％<BR>
<BR>
ハイパイに１枚ある１マンが、17回のツモまでにアンコ化する確率。<BR>
理論値：5.573％<BR>
実測値：5.023％<BR>
<BR>
ハイパイに１枚ある１マンが、10回のツモまでにアンコ化する確率。<BR>
理論値：1.844％<BR>
実測値：1.565％<BR><BR><BR>
<B><FONT size="+1">各近似式の検査データ考察：</FONT></B><BR><BR>
一般に、<B>Nが大きくなればなるほど、また確率が大きくなればなるほど誤差が大きくなる</B>。結果の確率が15％を超えたあたりから誤差が特に激しくなる。<BR>
それ以下の確率までならかなり近い値を出している。私のように、東風荘の超ランという母集団内で偏差値75を超えている打ち手でも、「この牌が来やすい」「この待ちは出やすい」という感覚が、誤差率10％未満になるようなことはめったにないと思う。<BR>
したがって<B>上記近似式は、10順目以下の未来のツモを予測する際に、超ランの平均レベル以上程度には精確な結果を導くものだと思われる</B>。<BR>
<BR>
もちろん、他家の持ち牌などの情報をより多く入れるとより良いが、人間の「読み」能力ではたかがしれていることは以前の研究でコンピュータが明らかにしたことである。<BR>
稚拙な人間が無駄に「読む」ことは、数え上げの結果よりも低い結果しかもたらさなかった。ある牌は全て、見えていない部分にランダムに分布していると考える方がまだしも精確であることは言うまでもない。<BR>
<BR>
また、工学的な手法で理学系の人には怒られるかもしれないが、理論値の90％程度の値を取ると、ほとんどの場合により実測値に近づくことを付け加えておく。<BR>
コンピュータの計算に用いる場合などには、このことに留意すれば全体の動作がよくなるだろう。<BR>
<BR><BR>
<B><FONT size="+1">戦術への応用法：</FONT></B><BR><BR>
さて、一般にある牌がメンツ化する確率について考えてみたい。<BR>
<BR>
<B>・メンツ化確率の比較<BR>
35　46　57　のカンチャン　＞　13　24　68　79　？　12　89　？　3　4　5　6　7　？　＞　2　8　＞　1　9</B><BR><BR>
＞の記号は、明らかに左が「良い」場合で、？のついている部分はどちらかわからない場合である。<BR>
一番わかりにくいのは、ペンチャンやカンチャンと中の浮き牌のどちらがメンツ化されやすいかである。<BR><BR>
３牌以上が関係してメンツ化を求める場合には計算が煩雑になるので実測値で示す。<BR>
（例えば3がシュンツ化する場合は123　234　345があるが、12をツモる確率、24をツモる確率、45をツモる確率が各々独立でない）<BR>
<BR>
<B>・ペンチャンのメンツ化率</B><BR>
ハイパイ時（134-13＝121枚が見えていない段階）に存在するペンチャンがメンツになる確率を列挙する。<BR>
1順後　3.3％<BR>
2順後　6.6％<BR>
3順後　10％<BR>
4順後　13.3％<BR>
5順後　16.6％<BR>
6順後　20％<BR>
7順後　23.3％<BR>
8順後　26.6％<BR>
9順後　30％<BR>
10順後　33.3％<BR>
<BR>
<B>・3〜7浮き牌のメンツ化率</B><BR>
ハイパイ時に存在する孤立3がメンツになる確率を列挙する（ただし周辺の牌は見えていないものとする）。<BR>
3順後　（実測1.76％）<BR>
4順後　（実測3.43％）<BR>
5順後　（実測5.42％）<BR>
6順後　（実測7.84％）<BR>
7順後　（実測10.58％）<BR>
8順後　（実測13.55％）<BR>
9順後　（実測16.46％）<BR>
10順後　（実測19.70％）<BR><BR>
これだけを見るとペンチャンの方が3〜7浮き牌よりも有効にメンツ化されるように思うかもしれないが、そうでもないこともしばしばある。<BR>
というのも、ペンチャンは２牌を使ってこのメンツ化率を持つのに対して、浮き牌は１牌だけでこのメンツ化率を持つからである。<BR>
<BR>
<B>・3〜7浮き牌を２つ持ち最後まで両方を切らずに使う場合のメンツ化率</B><BR>
3順後　（実測3.78％）<BR>
4順後　（実測6.66％）<BR>
5順後　（実測10.6％）<BR>
6順後　（実測16.5％）<BR>
7順後　（実測20.0％）<BR>
8順後　（実測25.2％）<BR>
9順後　（実測32.1％）<BR>
10順後　（実測37.1％）<BR>
<BR>
必要とした牌が減少することに対して、12より浮き牌の方が強い。<BR>
ペンチャンの場合必要牌の残り枚数が4→3となるだけでメンツ化率がそのまま3/4に減る（実際はペンチャン受けの37は他家に利用されやすく、もともと「残り牌」のチャンスとして4枚もないことが多いのだが。そしてその場合、1枚の減少は3→2や、場合によっては2→1などの減少を意味する）。<BR>
浮き牌の場合は、必要牌のうち一部の残り枚数が減少しても全体のメンツ化率はすぐには減らない上、別の浮き牌に変えてまたメンツ化率を戻すこともできる。<BR>
<BR>
同様に13や24、68や79のカンチャンについても考える。<BR>
<B>・13形カンチャンのメンツ化率<BR>
</B>2をツモる確率（ペンチャンのメンツ化率と等しい）　or　45を引く確率　で計算する（本来は245を全てツモる確率を引かねばならない）。<BR>
3順後　10％or0.65％＝10.6％（実測10.2％）<BR>
4順後　13.3％or1.31％＝14.4％（実測13.8％）<BR>
5順後　16.6％or2.18％＝18.4％（実測17.0％）<BR>
6順後　20％or3.27％＝22.6％（実測20.9％）<BR>
7順後　23.3％or4.57％＝27.0％（実測24.9％）<BR>
8順後　26.6％or6.10％＝31.0％（実測27.9％）<BR>
9順後　30％or7.85％＝35.5％（実測31.1％）<BR>
10順後　33.3％or9.80％＝38.7％（実測34.8％）<BR>
<BR>
カンチャンと「浮き牌2つ」であれば、各々のメンツ化確率は近い。<BR>
<BR>
以上は、残り牌数が全て4であったことに留意すべきだ。<BR>
1つのツモでメンツ化するような牌構成の場合にはこの影響が大きい。<BR>
例えば13形カンチャンで、4枚ではなく3枚しかツモるチャンスがなければ、メンツ化率は大きく減少する（N＝10での残り牌3枚実測値28.8％、残り牌2枚実測値21.9％）。<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
</P>
</BODY>
</html>
