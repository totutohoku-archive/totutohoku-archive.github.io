<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<meta charset="UTF-8">
<META name="GENERATOR" content="IBM HomePage Builder 2001 V5.0.0 for Windows">
<TITLE>システマティック麻雀工学：応用麻雀数理学</TITLE>
</HEAD>
<BODY background="1052.gif" bgcolor="#e0e0e0" text="#000000" vlink="#400080" alink="#ff7f00" link="#ff0000">
<P>システマティック麻雀工学：<BR>
<B><FONT size="+3">戦術の構築・基礎論（0）</FONT></B><BR>
<BR>
<BR>
<B><FONT size="+1">和了を目指すアルゴリズムに関する概論：</FONT></B><BR>
<BR>
典型的な方法としては、以下のようなものがある。<BR>
・リャンメンやメンツなどに切り分けて、それぞれに評価点を与える加点方式<BR>
・手牌に牌を加えたり牌を切ったりして、その結果をシミュレートするシミュレート方式<BR>
・それらの混合型<BR>
<BR>
加点方式は、ある程度の指針としては高速でよいが、厳密な確率を求めるのに不向きである。<BR>
シミュレート方式では、1順ごとに組み合わせが　34通り*14通り　などの莫大な数になるため、「5順後」などについて考慮できない（普通、2順程度がリアルタイムな計算時間の限界である）。<BR>
<BR>
実用上は、これらを組み合わせたような方法でテンパイを目指すわけだが、とつげき東北の麻雀の「思考」と照らし合わせると、これではまだまだ上手な打ち方ができない。<BR>
これらの方法だと「早い順目だからテンパイを崩していい待ちにしよう」などという判断はできないし、テンパイ時にリーチすべきかどうかなどの判断については別の判断が必要となる。<BR>
また、他家の挙動なども総合的に判断するにはあまりにも縦断的な計算になってしまい応用性が少ない。<BR>
<BR>
<BR><BR>
<B><FONT size="+1">実際の打ち方とアルゴリズムの打ち方の違い：</FONT></B><BR>
<BR>
いくつか適当にテンパイを目指すアルゴリズムを作ってみて感じたのは、<BR>
・点数状況を把握して役を狙えない（そういうルーチンでないのだから当然だが）<BR>
・他家がリーチしてきたときに、降りるべきなのか攻めるべきなのかの判断がつかない（別ルーチンが必要）<BR>
・イーシャンテンからリャンシャンテンに戻して効率化するような柔軟性がない<BR>
・計算に時間がかかる（ｎシャンテンでの判断をｎ-1シャンテンでの判断に基づいて再帰的に決定するような場合）<BR>
ということである。<BR>
<BR>
全体としては、「テンパイ近辺になったときの打牌がよくない」ことが言える。<BR>
それは、テンパイ近辺になると、順目の早い遅いや他家の挙動によって「シャンテン落とし」を行ったり、「待ち変化」を考えたり、それとも「リーチする」選択をしたりという判断が必要になるからである。<BR>
しかし、テンパイ近辺の技術こそが、強い打ち方にとって重要なのはとつげき東北の経験上も明らかなことだ。<BR>
<BR>
「攻めるか、降りるか」「待ちを変えるかどうか」というような判断は、決して他家のリーチ状況や得点状況だけに依存するわけではないし、自分の手や形だけに依存するわけでもない。<BR>
単に「和了を目指すルーチン」を普通に書いてしまうと、さらに他の判断のためのルーチンが別に必要で、なおかつその別ルーチンは自分の手が和了にどのくらい近いかを判断できなくなってしまう。<BR>
それらの複数の要因を同時に考慮しなければ上手に打てないのである。<BR>
<BR>
<BR><BR>
<B><FONT size="+1">ここで考える和了ルーチンの方針：</FONT></B><BR>
<BR>
「和了を目指すルーチン」「攻めるか降りるかを判断するルーチン」「降りるルーチン」・・・などを<B>縦断的</B>に作って行くのが普通のアイデアだが、以上のような洞察を背景にして、システマティック麻雀工学では「テンパイ時の攻め降り等の判断（牌効率も含む）」「1シャンテン時の攻め降り等の判断」・・・といった<B>横断的</B>な方法論を構築していくことを目標とする。<BR>
<BR>
<BR>
まず、「テンパイ時のみに特化した最善手計算理論」を作ることを考えよう。<BR>
テンパイというのは、メンツ3組と頭1組、またはメンツ4組がそろっている状態である。<BR>
この状態では、残った牌の部分について各々の「変化」を概算することは簡単である。<BR>
ようは、例えばカンチャン待ちであれば、「手変わりを待って手が変わり、上がれる確率とメリット。手変わりを待っている間に上がる確率とメリット」と、「手変わりを待たずにリーチした場合の上がれる確率とメリット」、それから「テンパイを崩した場合に別の待ちになる確率とその場合のメリット」などを比較するだけでよい。<BR>
上がれる確率などは適当な値で計算できるし、変化する場合の計算も比較的簡単である（枚数が少ないので）。<BR>
<BR>
それができれば「イーシャンテン時に特化したもの」からそれを呼び出しつつ、イーシャンテン時計算も可能になる。<BR>
リャンシャンテン以前では、さらにまた別の特化したアルゴリズムを組む方針を考える。<BR>
<BR>
これらの特化したアルゴリズム内では、他家のリーチや、自分の手変わり、手変わり以前のツモ、順位などの要素を把握し、その上での決定を下せるように工夫する。<BR>
これは、「全体的に牌効率を計算する」方法や、シミュレートの方法では実現できなかったことである。<BR>
特に、シミュレーション法で問題となる「組み合わせ数の爆発」に対しての対策も考える。<BR>
テンパイ付近では全組み合わせに対する厳密な計算を行うことができ、またテンパイから遠い段階での計算では仮の平均値をすぐに返せるようなルーチンを考える。<BR>
<BR>
<BR>
<BR><BR>
<BR>
<BR>
<BR>
</P>
</BODY>
</HTML>
